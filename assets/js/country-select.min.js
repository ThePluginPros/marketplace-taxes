jQuery(function(u){if("undefined"==typeof tfm_country_select_params)return!1;var t=tfm_country_select_params.countries.replace(/&quot;/g,'"'),d=u.parseJSON(t);u(document.body).on("change","select.tfm_country_to_state",function(){var t,e=u(this).closest(".wcv_shipping_rates"),s=u(this).data("state_input");t=s?u(s):u(this).closest("tr, fieldset, form").find(".shipping_state");var a=u(this).val(),c=t.attr("name"),n=t.attr("id"),r=t.val(),i=t.attr("placeholder")||"",o=t.attr("class")||"";if(-1===o.indexOf("shipping_state")&&(o+=" shipping_state"),d[a]){var _="",l=d[a];for(var p in l)l.hasOwnProperty(p)&&(_=_+'<option value="'+p+'">'+l[p]+"</option>");-1===o.indexOf("tfm_state_select")&&(o+=" tfm_state_select"),state_select=u('<select name="'+c+'" id="'+n+'" class="'+o.trim()+'"><option value="">'+tfm_country_select_params.i18n_select_state_text+"</option>"+_+"</select>"),t.replaceWith(state_select),state_select.val(r).change(),u(document.body).trigger("country_to_state_changed",[a,e])}else t.is("select")&&(state_select=u('<input type="text" class="'+o.trim()+'" name="'+c+'" id="'+n+'" placeholder="'+i+'" />'),t.replaceWith(state_select),u(document.body).trigger("country_to_state_changed",[a,e]));u(document.body).trigger("country_to_state_changing",[a,e])}),u(".tfm_country_to_state").change()});