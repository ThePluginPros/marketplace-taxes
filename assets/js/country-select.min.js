jQuery(function(l){if("undefined"==typeof wcv_country_select_params)return!1;if(l().select2){var t=function(){l("select.country_select:visible, select.state_select:visible").each(function(){l(this).select2({placeholderOption:"first",width:"100%"})})};t(),l(document.body).bind("country_to_state_changed",function(){t()})}var e=wcv_country_select_params.countries.replace(/&quot;/g,'"'),p=l.parseJSON(e);l(document.body).on("change","select.country_to_state",function(){var t=l(this).closest(".wcv_shipping_rates"),e=l(this).val(),s=l(this).parent().next(),c=s.find(".shipping_state"),n=(s.parent(),c.attr("name")),a=c.val(),o=c.attr("placeholder")||"";if(p[e]){var r="",i=p[e];for(var _ in i)i.hasOwnProperty(_)&&(r=r+'<option value="'+_+'">'+i[_]+"</option>");state_select=l('<select name="'+n+'" class="state_select shipping_state" placeholder="'+o+'"><option value="">'+wcv_country_select_params.i18n_select_state_text+"</option>"+r+"</select>"),c.remove(),s.append(state_select),state_select.val(a).change(),l(document.body).trigger("country_to_state_changed",[e,t])}else c.is("select")&&(state_select=l('<input type="text" class="shipping_state" name="'+n+'" placeholder="'+o+'" />'),c.remove(),s.append(state_select),l(document.body).trigger("country_to_state_changed",[e,t]));l(document.body).trigger("country_to_state_changing",[e,t])}),l(".country_to_state").change()});