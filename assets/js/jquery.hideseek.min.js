/**
 * HideSeek jQuery plugin
 *
 * @copyright Copyright 2015, Dimitris Krestos
 * @license   Apache License, Version 2.0 (http://www.opensource.org/licenses/apache2.0.php)
 * @link      http://vdw.staytuned.gr
 * @version   v0.7.1
 *
 * Dependencies are include in minified versions at the bottom:
 * 1. Highlight v4 by Johann Burkard
 *
 */

!function(r,e,t){"use strict";r.fn.hideseek=function(i){i=r.extend({list:".hideseek-data",nodata:"",attribute:"text",matches:!1,highlight:!1,ignore:"",headers:"",navigation:!1,ignore_accents:!1,hidden_mode:!1,min_chars:1},i);return this.each(function(){var o=r(this);o.opts=[],r.map(["list","nodata","attribute","matches","highlight","ignore","headers","navigation","ignore_accents","hidden_mode","min_chars"],function(e,t){o.opts[e]=o.data(e)||i[e]}),o.opts.headers&&(o.opts.ignore+=o.opts.ignore?", "+o.opts.headers:o.opts.headers);var h=r(o.opts.list);o.opts.navigation&&o.attr("autocomplete","off"),o.opts.hidden_mode&&h.children().hide(),o.keyup(function(e){if(-1==[38,40,13].indexOf(e.keyCode)&&(8==e.keyCode||o.val().length>=o.opts.min_chars)){var t=o.val().toLowerCase();h.children(o.opts.ignore.trim()?":not("+o.opts.ignore+")":"").removeClass("selected").each(function(){var e=("text"!=o.opts.attribute?r(this).attr(o.opts.attribute)||"":r(this).text()).toLowerCase();-1==e.indexOf(t)||t===(!!o.opts.hidden_mode&&"")?r(this).hide():(i(r(this)),o.opts.matches&&null!==t.match(new RegExp(Object.keys(o.opts.matches)[0]))&&(null!==e.match(new RegExp(Object.values(o.opts.matches)[0]))?i(r(this)):r(this).hide())),o.trigger("_after_each")}),o.opts.nodata&&(h.find(".no-results").remove(),h.children(':not([style*="display: none"])').length||(h.children().first().clone().removeHighlight().addClass("no-results").show().prependTo(o.opts.list).text(o.opts.nodata),o.trigger("_after_nodata"))),o.opts.headers&&r(o.opts.headers,h).each(function(){r(this).nextUntil(o.opts.headers).not('[style*="display: none"],'+o.opts.ignore).length?r(this).show():r(this).hide()}),o.trigger("_after")}function i(e){o.opts.highlight?e.removeHighlight().highlight(t).show():e.show()}function s(e){return e.children(".selected:visible")}var n,a;o.opts.navigation&&(38==e.keyCode?s(h).length?((a=h,s(a).prevAll(":visible:first")).addClass("selected"),s(h).last().removeClass("selected")):h.children(":visible").last().addClass("selected"):40==e.keyCode?s(h).length?((n=h,s(n).nextAll(":visible:first")).addClass("selected"),s(h).first().removeClass("selected")):h.children(":visible").first().addClass("selected"):13==e.keyCode&&(s(h).find("a").length?document.location=s(h).find("a").attr("href"):o.val(s(h).text())))})})},r(document).ready(function(){r('[data-toggle="hideseek"]').hideseek()})}(jQuery),jQuery.fn.highlight=function(e){return this.length&&e&&e.length?this.each(function(){!function e(t,i){var s=0;if(3==t.nodeType){var n=t.data.toUpperCase().indexOf(i);if(0<=n){var a=document.createElement("mark");a.className="highlight";var o=t.splitText(n);o.splitText(i.length);var h=o.cloneNode(!0);a.appendChild(h),o.parentNode.replaceChild(a,o),s=1}}else if(1==t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var r=0;r<t.childNodes.length;++r)r+=e(t.childNodes[r],i);return s}(this,e.toUpperCase())}):this},jQuery.fn.removeHighlight=function(){return this.find("mark.highlight").each(function(){with(this.parentNode.firstChild.nodeName,this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()};